# Aider é¡¹ç›®å­¦ä¹ æŒ‡å—

> æ¬¢è¿ï¼è¿™ä»½æ–‡æ¡£ä¸“ä¸ºæƒ³è¦å­¦ä¹ å’Œè´¡çŒ® Aider é¡¹ç›®çš„åˆçº§ Python ç¨‹åºå‘˜å‡†å¤‡ã€‚

## ç›®å½•

1. [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
2. [ä¸ºä»€ä¹ˆå­¦ä¹  Aiderï¼Ÿ](#ä¸ºä»€ä¹ˆå­¦ä¹ -aider)
3. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
4. [æ¶æ„å¯è§†åŒ–](#æ¶æ„å¯è§†åŒ–)
5. [é¡¹ç›®ç»“æ„è¯¦è§£](#é¡¹ç›®ç»“æ„è¯¦è§£)
6. [æ ¸å¿ƒæ¦‚å¿µè§£æ](#æ ¸å¿ƒæ¦‚å¿µè§£æ)
7. [å¦‚ä½•é˜…è¯»ä»£ç ](#å¦‚ä½•é˜…è¯»ä»£ç )
8. [å¦‚ä½•å‚ä¸è´¡çŒ®](#å¦‚ä½•å‚ä¸è´¡çŒ®)
9. [å­¦ä¹ è·¯å¾„å»ºè®®](#å­¦ä¹ è·¯å¾„å»ºè®®)
10. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## é¡¹ç›®ç®€ä»‹

### Aider æ˜¯ä»€ä¹ˆï¼Ÿ

Aider æ˜¯ä¸€ä¸ª**AI é…å¯¹ç¼–ç¨‹å·¥å…·**ï¼Œè¿è¡Œåœ¨ç»ˆç«¯ä¸­ï¼Œè®©ä½ å¯ä»¥å’Œ LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰åä½œæ¥ç¼–å†™å’Œä¿®æ”¹ä»£ç ã€‚

**ç®€å•ç±»æ¯”**ï¼š
- GitHub Copilot = AI å¸®ä½ è‡ªåŠ¨è¡¥å…¨ä»£ç 
- ChatGPT = ä½ é—®é—®é¢˜ï¼ŒAI ç»™ç­”æ¡ˆ
- **Aider = AI ç›´æ¥å¸®ä½ ä¿®æ”¹é¡¹ç›®æ–‡ä»¶**

### é¡¹ç›®ç»Ÿè®¡

- **å¼€å‘æ—¶é•¿**ï¼š18 ä¸ªæœˆï¼ˆ2023å¹´4æœˆ - è‡³ä»Šï¼‰
- **ç‰ˆæœ¬æ•°é‡**ï¼š86+ ä¸ªç‰ˆæœ¬
- **PyPI ä¸‹è½½**ï¼š3.4M+
- **ä»£ç è¡Œæ•°**ï¼š~15,000 è¡Œ Python ä»£ç 
- **æ”¯æŒè¯­è¨€**ï¼š100+ ç§ç¼–ç¨‹è¯­è¨€
- **è‡ªä¸¾ç¨‹åº¦**ï¼šæœ€æ–°ç‰ˆæœ¬ 88% çš„ä»£ç ç”± Aider è‡ªå·±ç¼–å†™ï¼

### æŠ€æœ¯æ ˆ

```
æ ¸å¿ƒæŠ€æœ¯ï¼š
â”œâ”€â”€ Python 3.10+          # ä¸»ç¼–ç¨‹è¯­è¨€
â”œâ”€â”€ LiteLLM              # å¤š LLM æä¾›å•†ç»Ÿä¸€æ¥å£
â”œâ”€â”€ GitPython            # Git æ“ä½œ
â”œâ”€â”€ Tree-sitter          # ä»£ç è§£æï¼ˆæ”¯æŒ100+è¯­è¨€ï¼‰
â”œâ”€â”€ Prompt Toolkit       # ç»ˆç«¯äº¤äº’ç•Œé¢
â””â”€â”€ Rich                 # ç»ˆç«¯ç¾åŒ–è¾“å‡º

æµ‹è¯• & å·¥å…·ï¼š
â”œâ”€â”€ Pytest               # å•å…ƒæµ‹è¯•
â”œâ”€â”€ Black                # ä»£ç æ ¼å¼åŒ–
â”œâ”€â”€ isort                # import æ’åº
â”œâ”€â”€ Flake8               # ä»£ç æ£€æŸ¥
â””â”€â”€ pre-commit           # Git é’©å­
```

---

## ä¸ºä»€ä¹ˆå­¦ä¹  Aiderï¼Ÿ

### å¯¹åˆçº§ç¨‹åºå‘˜çš„ä»·å€¼

1. **çœŸå®ä¸–ç•Œçš„é¡¹ç›®**
   - ä¸æ˜¯ç©å…·é¡¹ç›®ï¼Œæœ‰ 340 ä¸‡ä¸‹è½½é‡
   - è§£å†³å®é™…é—®é¢˜ï¼Œæœ‰çœŸå®ç”¨æˆ·åé¦ˆ

2. **ä»£ç è´¨é‡é«˜**
   - å®Œæ•´çš„æµ‹è¯•è¦†ç›–
   - æ¸…æ™°çš„ä»£ç ç»“æ„
   - è‰¯å¥½çš„æ–‡æ¡£

3. **æ¶‰åŠå¤šä¸ª Python æŠ€æœ¯ç‚¹**
   - æ–‡ä»¶ I/O å’Œç¼–ç å¤„ç†
   - Git æ“ä½œè‡ªåŠ¨åŒ–
   - API è°ƒç”¨å’Œé”™è¯¯å¤„ç†
   - ç»ˆç«¯ UI å¼€å‘
   - æ­£åˆ™è¡¨è¾¾å¼å’Œæ–‡æœ¬è§£æ
   - é¢å‘å¯¹è±¡è®¾è®¡

4. **AI æ—¶ä»£çš„å‰æ²¿å®è·µ**
   - LLM API é›†æˆ
   - Prompt å·¥ç¨‹
   - ä¸Šä¸‹æ–‡çª—å£ç®¡ç†
   - æµå¼å“åº”å¤„ç†

5. **æ´»è·ƒçš„ç¤¾åŒº**
   - é¢‘ç¹æ›´æ–°
   - æ¬¢è¿æ–°è´¡çŒ®è€…
   - Discord ç¤¾åŒºæ”¯æŒ

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/Aider-AI/aider.git
cd aider

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èåœ¨ä»“åº“å¤–ï¼‰
python3 -m venv ../aider_venv
source ../aider_venv/bin/activate  # macOS/Linux
# æˆ– Windows: ..\aider_venv\Scripts\activate

# 3. å®‰è£…ä¾èµ–
pip install -e .                              # å®‰è£… aider æœ¬èº«
pip install -r requirements/requirements-dev.txt  # å®‰è£…å¼€å‘ä¾èµ–

# 4. éªŒè¯å®‰è£…
aider --version
pytest tests/basic/test_coder.py -v  # è¿è¡Œä¸€ä¸ªæµ‹è¯•
```

### ç¬¬ä¸€æ¬¡è¿è¡Œ

```bash
# æ–¹å¼1ï¼šç›´æ¥è¿è¡Œï¼ˆéœ€è¦ API keyï¼‰
export OPENAI_API_KEY=your-key-here
aider

# æ–¹å¼2ï¼šæŸ¥çœ‹å¸®åŠ©
aider --help

# æ–¹å¼3ï¼šè¿è¡Œæµ‹è¯•äº†è§£åŠŸèƒ½
pytest tests/basic/ -v
```

---

## æ¶æ„å¯è§†åŒ–

### æ•´ä½“æ¶æ„å›¾

```mermaid
graph TB
    subgraph "ç”¨æˆ·äº¤äº’å±‚"
        User[ğŸ‘¤ ç”¨æˆ·]
        CLI[å‘½ä»¤è¡Œç•Œé¢<br/>main.py]
        IO[è¾“å…¥è¾“å‡º<br/>io.py]
    end

    subgraph "æ ¸å¿ƒä¸šåŠ¡å±‚"
        CMD[å‘½ä»¤å¤„ç†å™¨<br/>commands.py]
        CODER[ç¼–ç å™¨åŸºç±»<br/>base_coder.py]

        subgraph "ç¼–è¾‘ç­–ç•¥"
            EB[EditBlockç¼–ç å™¨]
            UD[UnifiedDiffç¼–ç å™¨]
            WF[WholeFileç¼–ç å™¨]
            PATCH[Patchç¼–ç å™¨]
        end
    end

    subgraph "AI é›†æˆå±‚"
        MODEL[æ¨¡å‹ç®¡ç†<br/>models.py]
        LLM[LiteLLM API]

        subgraph "LLM æä¾›å•†"
            GPT[OpenAI GPT]
            CLAUDE[Anthropic Claude]
            GEMINI[Google Gemini]
            OTHER[DeepSeek, etc.]
        end
    end

    subgraph "ä»£ç ç†è§£å±‚"
        REPOMAP[ä»“åº“æ˜ å°„<br/>repomap.py]
        TS[Tree-sitter<br/>ä»£ç è§£æ]
        RANK[ç›¸å…³æ€§æ’åº]
    end

    subgraph "ç‰ˆæœ¬æ§åˆ¶å±‚"
        REPO[Gitä»“åº“<br/>repo.py]
        GIT[GitPython]
        GITOPS[Gitæ“ä½œ<br/>commit/diff/blame]
    end

    subgraph "æ–‡ä»¶ç³»ç»Ÿ"
        FILES[ğŸ“ é¡¹ç›®æ–‡ä»¶]
        IGNORE[.aiderignore<br/>.gitignore]
    end

    User -->|è¾“å…¥å‘½ä»¤| CLI
    CLI --> IO
    IO --> CMD
    CMD -->|/add, /drop| CODER
    CMD -->|/commit| REPO

    CODER --> EB
    CODER --> UD
    CODER --> WF
    CODER --> PATCH

    EB --> MODEL
    UD --> MODEL
    WF --> MODEL
    PATCH --> MODEL

    MODEL --> LLM
    LLM --> GPT
    LLM --> CLAUDE
    LLM --> GEMINI
    LLM --> OTHER

    CODER -->|è·å–ä¸Šä¸‹æ–‡| REPOMAP
    REPOMAP --> TS
    TS --> RANK

    CODER -->|è¯»å†™æ–‡ä»¶| FILES
    CODER -->|æäº¤å˜æ›´| REPO
    REPO --> GIT
    GIT --> GITOPS
    GITOPS --> FILES

    FILES --> IGNORE
    REPOMAP --> FILES

    style User fill:#e1f5ff
    style CLI fill:#fff3e0
    style CODER fill:#f3e5f5
    style MODEL fill:#e8f5e9
    style REPOMAP fill:#fff9c4
    style REPO fill:#fce4ec
```

### æ•°æ®æµç¨‹å›¾

```mermaid
sequenceDiagram
    participant U as ğŸ‘¤ ç”¨æˆ·
    participant M as main.py
    participant C as Coder
    participant RM as RepoMap
    participant LLM as LLM API
    participant G as Git

    U->>M: å¯åŠ¨ aider
    M->>M: è§£æå‚æ•°
    M->>G: åˆå§‹åŒ– Git ä»“åº“
    M->>C: åˆ›å»º Coder å®ä¾‹

    U->>C: è¾“å…¥ç¼–ç¨‹ä»»åŠ¡

    rect rgb(255, 250, 205)
        Note over C,RM: å‡†å¤‡ä¸Šä¸‹æ–‡
        C->>RM: ç”Ÿæˆä»“åº“æ˜ å°„
        RM->>RM: ç”¨ tree-sitter è§£æä»£ç 
        RM->>RM: è®¡ç®—ç›¸å…³æ€§æ’åº
        RM-->>C: è¿”å›ä»£ç åœ°å›¾
    end

    rect rgb(230, 245, 255)
        Note over C,LLM: LLM äº¤äº’
        C->>LLM: å‘é€æç¤ºè¯ + ä¸Šä¸‹æ–‡ + ä»»åŠ¡
        LLM->>LLM: ç”Ÿæˆä»£ç ç¼–è¾‘
        LLM-->>C: è¿”å›ç¼–è¾‘æŒ‡ä»¤
    end

    rect rgb(255, 240, 245)
        Note over C,G: åº”ç”¨å˜æ›´
        C->>C: è§£æç¼–è¾‘æŒ‡ä»¤
        C->>C: åº”ç”¨åˆ°æ–‡ä»¶
        C->>G: åˆ›å»º Git commit
        G-->>U: æ˜¾ç¤ºå˜æ›´æ‘˜è¦
    end

    U->>C: /undo (å¯é€‰)
    C->>G: git reset
    G-->>U: æ¢å¤å®Œæˆ
```

### æ ¸å¿ƒç±»å…³ç³»å›¾

```mermaid
classDiagram
    class Coder {
        +io: InputOutput
        +repo: GitRepo
        +model: Model
        +abs_fnames: list
        +run() ä¸»å¾ªç¯
        +send_message() å‘é€åˆ°LLM
        +apply_edits() åº”ç”¨ç¼–è¾‘
        +auto_commit() è‡ªåŠ¨æäº¤
    }

    class EditBlockCoder {
        +edit_format: str
        +apply_edits() åº”ç”¨SEARCH/REPLACE
    }

    class UnifiedDiffCoder {
        +edit_format: str
        +apply_edits() åº”ç”¨diffæ ¼å¼
    }

    class WholeFileCoder {
        +edit_format: str
        +apply_edits() æ•´æ–‡ä»¶æ›¿æ¢
    }

    class Model {
        +name: str
        +max_tokens: int
        +send_message() è°ƒç”¨API
        +stream_response() æµå¼å“åº”
    }

    class RepoMap {
        +repo: GitRepo
        +max_tokens: int
        +get_ranked_tags() è·å–æ’åºæ ‡ç­¾
        +get_repo_map() ç”Ÿæˆæ˜ å°„
    }

    class GitRepo {
        +repo: git.Repo
        +commit() æäº¤
        +get_tracked_files() è·å–æ–‡ä»¶
        +diff_commits() æ¯”è¾ƒæäº¤
    }

    class InputOutput {
        +prompt_toolkit: Session
        +get_input() è·å–è¾“å…¥
        +tool_output() å·¥å…·è¾“å‡º
        +tool_error() é”™è¯¯è¾“å‡º
    }

    class Commands {
        +coder: Coder
        +io: InputOutput
        +cmd_add() /addå‘½ä»¤
        +cmd_commit() /commitå‘½ä»¤
        +cmd_undo() /undoå‘½ä»¤
    }

    Coder <|-- EditBlockCoder
    Coder <|-- UnifiedDiffCoder
    Coder <|-- WholeFileCoder
    Coder --> Model
    Coder --> RepoMap
    Coder --> GitRepo
    Coder --> InputOutput
    Commands --> Coder

    note for Coder "æ‰€æœ‰ç¼–ç å™¨çš„åŸºç±»\nåŒ…å«æ ¸å¿ƒç¼–è¾‘é€»è¾‘"
    note for Model "LLM API å°è£…\næ”¯æŒå¤šä¸ªæä¾›å•†"
    note for RepoMap "æ™ºèƒ½ä»£ç æ˜ å°„\nå‡å°‘tokenæ¶ˆè€—"
```

### ç¼–è¾‘æµç¨‹è¯¦ç»†å›¾

```mermaid
flowchart TD
    START([ç”¨æˆ·è¾“å…¥ä»»åŠ¡])

    START --> PARSE[è§£æç”¨æˆ·è¾“å…¥]
    PARSE --> CHECK{æ˜¯å¦ä¸º<br/>æ–œæ å‘½ä»¤?}

    CHECK -->|æ˜¯| CMD[æ‰§è¡Œå‘½ä»¤<br/>commands.py]
    CMD --> DONE([å®Œæˆ])

    CHECK -->|å¦| FILES{æ˜¯å¦æœ‰<br/>æ–‡ä»¶æ·»åŠ ?}
    FILES -->|æ— æ–‡ä»¶| ASK[Askæ¨¡å¼<br/>åªå›ç­”é—®é¢˜]
    FILES -->|æœ‰æ–‡ä»¶| PREPARE[å‡†å¤‡ä¸Šä¸‹æ–‡]

    PREPARE --> TOKENS[è®¡ç®—tokené¢„ç®—]
    TOKENS --> REPOMAP[ç”ŸæˆRepoMap]
    REPOMAP --> CONTEXT[ç»„è£…ä¸Šä¸‹æ–‡:<br/>ç³»ç»Ÿæç¤ºè¯<br/>+æ–‡ä»¶å†…å®¹<br/>+RepoMap<br/>+èŠå¤©å†å²]

    CONTEXT --> SEND[å‘é€ç»™LLM]
    SEND --> STREAM[æµå¼æ¥æ”¶å“åº”]

    STREAM --> PARSE_EDIT[è§£æç¼–è¾‘æŒ‡ä»¤]
    PARSE_EDIT --> VALIDATE{éªŒè¯ç¼–è¾‘<br/>æ˜¯å¦æœ‰æ•ˆ?}

    VALIDATE -->|æ— æ•ˆ| ERROR[æ˜¾ç¤ºé”™è¯¯]
    ERROR --> RETRY{é‡è¯•?}
    RETRY -->|æ˜¯| SEND
    RETRY -->|å¦| DONE

    VALIDATE -->|æœ‰æ•ˆ| APPLY[åº”ç”¨ç¼–è¾‘åˆ°æ–‡ä»¶]
    APPLY --> LINT{éœ€è¦<br/>linting?}

    LINT -->|æ˜¯| RUN_LINT[è¿è¡Œlinter]
    RUN_LINT --> LINT_OK{é€šè¿‡?}
    LINT_OK -->|å¦| FIX[è®©LLMä¿®å¤]
    FIX --> SEND
    LINT_OK -->|æ˜¯| TEST

    LINT -->|å¦| TEST{éœ€è¦<br/>æµ‹è¯•?}

    TEST -->|æ˜¯| RUN_TEST[è¿è¡Œæµ‹è¯•]
    RUN_TEST --> TEST_OK{é€šè¿‡?}
    TEST_OK -->|å¦| FIX_TEST[è®©LLMä¿®å¤]
    FIX_TEST --> SEND
    TEST_OK -->|æ˜¯| COMMIT

    TEST -->|å¦| COMMIT[Git Commit]
    COMMIT --> GEN_MSG[ç”Ÿæˆæäº¤æ¶ˆæ¯<br/>ä¹Ÿç”¨LLM!]
    GEN_MSG --> ATTR[æ·»åŠ attribution<br/>æ ‡è®°AIç¼–è¾‘]
    ATTR --> DONE

    ASK --> DONE

    style START fill:#e1f5ff
    style DONE fill:#c8e6c9
    style SEND fill:#fff3e0
    style APPLY fill:#f3e5f5
    style COMMIT fill:#fce4ec
    style ERROR fill:#ffcdd2
```

### Token ç®¡ç†ç­–ç•¥å›¾

```mermaid
graph LR
    subgraph "Token é¢„ç®—åˆ†é…"
        MAX[æœ€å¤§ä¸Šä¸‹æ–‡<br/>128k tokens]

        MAX -->|15%| SYS[ç³»ç»Ÿæç¤ºè¯<br/>~20k tokens]
        MAX -->|50%| FILES[æ–‡ä»¶å†…å®¹<br/>~65k tokens]
        MAX -->|20%| RMAP[RepoMap<br/>~25k tokens]
        MAX -->|10%| HIST[èŠå¤©å†å²<br/>~13k tokens]
        MAX -->|5%| RSV[é¢„ç•™ç»™å“åº”<br/>~5k tokens]
    end

    subgraph "åŠ¨æ€è°ƒæ•´"
        FILES --> FULL{æ–‡ä»¶å¤ªå¤§?}
        FULL -->|æ˜¯| SPLIT[åªè¯»æ¨¡å¼<br/>æˆ–æ–‡ä»¶æ‹†åˆ†]

        HIST --> OLD{å†å²å¤ªé•¿?}
        OLD -->|æ˜¯| SUM[è‡ªåŠ¨æ€»ç»“<br/>æ—§å¯¹è¯]

        RMAP --> REL{éœ€è¦æ›´å¤š<br/>ä¸Šä¸‹æ–‡?}
        REL -->|æ˜¯| EXPAND[æ‰©å±•RepoMap<br/>tokené¢„ç®—]
        REL -->|å¦| SHRINK[æ”¶ç¼©RepoMap<br/>èŠ‚çœtokens]
    end

    subgraph "ä¼˜åŒ–ç­–ç•¥"
        SPLIT --> OPT1[åªåŒ…å«ç›¸å…³éƒ¨åˆ†]
        SUM --> OPT2[ä¿ç•™å…³é”®ä¿¡æ¯]
        EXPAND --> OPT3[åŸºäºç›¸å…³æ€§æ’åº]
        SHRINK --> OPT4[åªä¿ç•™é¡¶çº§å®šä¹‰]
    end

    style MAX fill:#e3f2fd
    style SYS fill:#fff3e0
    style FILES fill:#f3e5f5
    style RMAP fill:#e8f5e9
    style HIST fill:#fce4ec
```

### æ–‡ä»¶å¤„ç†æµç¨‹å›¾

```mermaid
stateDiagram-v2
    [*] --> æœªè·Ÿè¸ª

    æœªè·Ÿè¸ª --> åªè¯»: /read-only
    æœªè·Ÿè¸ª --> å¯ç¼–è¾‘: /add

    åªè¯» --> å¯ç¼–è¾‘: /add
    å¯ç¼–è¾‘ --> åªè¯»: /read-only

    å¯ç¼–è¾‘ --> å·²ä¿®æ”¹: LLM ç¼–è¾‘
    å·²ä¿®æ”¹ --> å·²æäº¤: auto_commit()

    åªè¯» --> [*]: /drop
    å¯ç¼–è¾‘ --> [*]: /drop
    å·²ä¿®æ”¹ --> [*]: /drop

    å·²æäº¤ --> å¯ç¼–è¾‘: ç»§ç»­ç¼–è¾‘
    å·²æäº¤ --> æœªè·Ÿè¸ª: /undo (git reset)

    note right of åªè¯»
        å¯ä»¥è¢« LLM è¯»å–
        ä½†ä¸ä¼šè¢«ä¿®æ”¹
        èŠ‚çœ token ä½¿ç”¨
    end note

    note right of å¯ç¼–è¾‘
        å®Œæ•´å†…å®¹å‘é€ç»™ LLM
        å¯ä»¥è¢«ç¼–è¾‘
    end note

    note right of å·²ä¿®æ”¹
        æ–‡ä»¶å·²è¢« LLM ä¿®æ”¹
        ç­‰å¾…æäº¤
    end note

    note right of å·²æäº¤
        å˜æ›´å·²ä¿å­˜åˆ° Git
        å¯ä»¥é€šè¿‡ /undo æ’¤é”€
    end note
```

### RepoMap ç”Ÿæˆæµç¨‹å›¾

```mermaid
flowchart TD
    START([å¼€å§‹ç”Ÿæˆ RepoMap])

    START --> SCAN[æ‰«æé¡¹ç›®æ–‡ä»¶]
    SCAN --> FILTER[è¿‡æ»¤æ–‡ä»¶<br/>.gitignore<br/>.aiderignore]

    FILTER --> PARSE[Tree-sitter è§£æ]

    subgraph "ä»£ç è§£æ"
        PARSE --> PY[Python:<br/>class, def]
        PARSE --> JS[JavaScript:<br/>function, class]
        PARSE --> GO[Go:<br/>func, type]
        PARSE --> RUST[Rust:<br/>fn, struct]
        PARSE --> OTHER[å…¶ä»– 100+ è¯­è¨€]
    end

    PY --> EXTRACT[æå–å®šä¹‰]
    JS --> EXTRACT
    GO --> EXTRACT
    RUST --> EXTRACT
    OTHER --> EXTRACT

    EXTRACT --> TAGS[ç”Ÿæˆæ ‡ç­¾åˆ—è¡¨<br/>æ–‡ä»¶å:è¡Œå·:å®šä¹‰å]

    TAGS --> RANK[ç›¸å…³æ€§æ’åº]

    subgraph "æ’åºç®—æ³•"
        RANK --> CHAT[åŸºäºèŠå¤©å†å²]
        RANK --> EDIT[åŸºäºç¼–è¾‘æ–‡ä»¶]
        RANK --> REF[åŸºäºå¼•ç”¨å…³ç³»]
    end

    CHAT --> SCORE[è®¡ç®—åˆ†æ•°]
    EDIT --> SCORE
    REF --> SCORE

    SCORE --> SORT[ä»é«˜åˆ°ä½æ’åº]
    SORT --> BUDGET[åº”ç”¨ token é¢„ç®—]

    BUDGET --> CUT{è¶…å‡ºé¢„ç®—?}
    CUT -->|æ˜¯| TRIM[è£å‰ªåº•éƒ¨é¡¹]
    CUT -->|å¦| FORMAT[æ ¼å¼åŒ–è¾“å‡º]
    TRIM --> FORMAT

    FORMAT --> OUTPUT[ç”Ÿæˆ RepoMap æ–‡æœ¬]
    OUTPUT --> CACHE[ç¼“å­˜ç»“æœ]
    CACHE --> END([è¿”å› RepoMap])

    style START fill:#e1f5ff
    style PARSE fill:#fff3e0
    style RANK fill:#f3e5f5
    style OUTPUT fill:#e8f5e9
    style END fill:#c8e6c9
```

---

## é¡¹ç›®ç»“æ„è¯¦è§£

```
aider/
â”œâ”€â”€ aider/                      # ä¸»ä»£ç ç›®å½•
â”‚   â”œâ”€â”€ __init__.py            # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ main.py                # å…¥å£ç‚¹ â­ ä»è¿™é‡Œå¼€å§‹é˜…è¯»
â”‚   â”œâ”€â”€ io.py                  # è¾“å…¥è¾“å‡ºå¤„ç†
â”‚   â”œâ”€â”€ models.py              # LLM æ¨¡å‹ç®¡ç†
â”‚   â”œâ”€â”€ repo.py                # Git ä»“åº“æ“ä½œ
â”‚   â”œâ”€â”€ repomap.py             # ä»£ç åº“æ˜ å°„ï¼ˆé‡è¦ï¼ï¼‰
â”‚   â”œâ”€â”€ commands.py            # èŠå¤©å‘½ä»¤ï¼ˆ/add, /commit ç­‰ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ coders/                # ä¸åŒçš„ç¼–è¾‘ç­–ç•¥ â­
â”‚   â”‚   â”œâ”€â”€ base_coder.py     # æ ¸å¿ƒåŸºç±»
â”‚   â”‚   â”œâ”€â”€ editblock_coder.py # SEARCH/REPLACE æ ¼å¼
â”‚   â”‚   â”œâ”€â”€ udiff_coder.py    # ç»Ÿä¸€ diff æ ¼å¼
â”‚   â”‚   â””â”€â”€ wholefile_coder.py # æ•´æ–‡ä»¶æ›¿æ¢
â”‚   â”‚
â”‚   â””â”€â”€ resources/             # èµ„æºæ–‡ä»¶
â”‚       â””â”€â”€ model-metadata.json
â”‚
â”œâ”€â”€ tests/                      # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ basic/                 # åŸºç¡€åŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ fixtures/              # æµ‹è¯•æ•°æ®
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ requirements/               # ä¾èµ–ç®¡ç†
â”‚   â”œâ”€â”€ requirements-dev.txt   # å¼€å‘ä¾èµ–
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ scripts/                    # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ pip-compile.sh         # ä¾èµ–ç¼–è¯‘
â”‚
â”œâ”€â”€ pyproject.toml             # é¡¹ç›®é…ç½®
â”œâ”€â”€ pytest.ini                 # æµ‹è¯•é…ç½®
â””â”€â”€ .pre-commit-config.yaml    # Git é’©å­é…ç½®
```

### å…³é”®æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ä½œç”¨ | åˆå­¦è€…å‹å¥½åº¦ |
|------|------|-------------|
| `main.py` | ç¨‹åºå…¥å£ï¼Œå‚æ•°è§£æï¼Œåˆå§‹åŒ–æµç¨‹ | â­â­â­ å¿…è¯» |
| `io.py` | ç»ˆç«¯è¾“å…¥è¾“å‡ºï¼Œé¢œè‰²ï¼Œå†å²è®°å½• | â­â­â­ å®¹æ˜“ç†è§£ |
| `commands.py` | å®ç° `/add`, `/commit` ç­‰å‘½ä»¤ | â­â­â­ æ¨èé˜…è¯» |
| `repo.py` | Git æ“ä½œå°è£… | â­â­ éœ€è¦äº†è§£ Git |
| `coders/base_coder.py` | æ ¸å¿ƒç¼–è¾‘é€»è¾‘ | â­ è¾ƒå¤æ‚ï¼ŒåæœŸé˜…è¯» |
| `repomap.py` | ä»£ç åº“æ˜ å°„ç®—æ³• | â­ æ¶‰åŠç®—æ³•ï¼Œè¿›é˜¶ |
| `models.py` | LLM API è°ƒç”¨ | â­â­ éœ€è¦äº†è§£ API |

---

## æ ¸å¿ƒæ¦‚å¿µè§£æ

### 1. Coderï¼ˆç¼–ç å™¨ï¼‰

**æ¦‚å¿µ**ï¼šä¸åŒçš„ç¼–è¾‘ç­–ç•¥ï¼Œå†³å®šå¦‚ä½•è®© LLM ä¿®æ”¹ä»£ç ã€‚

```python
# ç®€åŒ–ç¤ºä¾‹
class Coder:
    """åŸºç±»ï¼šå®šä¹‰ç¼–è¾‘ä»£ç çš„é€šç”¨æµç¨‹"""

    def run(self, user_message):
        # 1. å‡†å¤‡ä¸Šä¸‹æ–‡ï¼ˆç³»ç»Ÿæç¤ºè¯ + ä»£ç åº“æ˜ å°„ + æ–‡ä»¶å†…å®¹ï¼‰
        context = self.prepare_context()

        # 2. è°ƒç”¨ LLM
        response = self.call_llm(user_message, context)

        # 3. è§£æ LLM çš„å›å¤
        edits = self.parse_response(response)

        # 4. åº”ç”¨ä¿®æ”¹åˆ°æ–‡ä»¶
        self.apply_edits(edits)

        # 5. Git æäº¤
        self.git_commit()
```

**ä¸»è¦å®ç°**ï¼š
- `EditBlockCoder`: SEARCH/REPLACE å—æ ¼å¼
- `UnifiedDiffCoder`: Git diff æ ¼å¼
- `WholeFileCoder`: æ•´ä¸ªæ–‡ä»¶æ›¿æ¢

**ä¸ºä»€ä¹ˆæœ‰å¤šç§ï¼Ÿ** ä¸åŒæ¨¡å‹é€‚åˆä¸åŒæ ¼å¼ã€‚

### 2. Repo Mapï¼ˆä»“åº“æ˜ å°„ï¼‰

**é—®é¢˜**ï¼šä»£ç åº“å¤ªå¤§ï¼Œæ— æ³•å…¨éƒ¨å‘ç»™ LLM æ€ä¹ˆåŠï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼šç”Ÿæˆä¸€ä¸ª"åœ°å›¾"ï¼ŒåªåŒ…å«é‡è¦çš„å®šä¹‰ã€‚

```python
# ä¼ªä»£ç ç¤ºä¾‹
def generate_repo_map(files, chat_history):
    """
    ç”Ÿæˆä»“åº“æ˜ å°„

    æ­¥éª¤ï¼š
    1. ç”¨ tree-sitter è§£ææ‰€æœ‰æ–‡ä»¶
    2. æå–å‡½æ•°ã€ç±»ç­‰å®šä¹‰
    3. æ ¹æ®èŠå¤©å†å²ç›¸å…³æ€§æ’åº
    4. åªä¿ç•™ token é¢„ç®—å†…æœ€ç›¸å…³çš„éƒ¨åˆ†
    """

    # 1. è§£æä»£ç 
    definitions = []
    for file in files:
        tree = tree_sitter.parse(file)
        definitions.extend(extract_definitions(tree))

    # 2. ç›¸å…³æ€§æ’åº
    ranked = rank_by_relevance(definitions, chat_history)

    # 3. é™åˆ¶ token æ•°é‡
    return trim_to_token_budget(ranked, max_tokens=2048)
```

**å…³é”®ä»£ç **ï¼š`repomap.py`

### 3. Git é›†æˆ

Aider ä¼šè‡ªåŠ¨ä¸ºæ¯æ¬¡ LLM ç¼–è¾‘åˆ›å»º Git æäº¤ã€‚

```python
# ç®€åŒ–æµç¨‹
def auto_commit(files_changed, diff, coder):
    """è‡ªåŠ¨æäº¤ LLM çš„ä¿®æ”¹"""

    # 1. ç”Ÿæˆæäº¤ä¿¡æ¯ï¼ˆä¹Ÿç”¨ LLMï¼ï¼‰
    commit_msg = generate_commit_message(diff)

    # 2. æ·»åŠ æ–‡ä»¶
    git.add(files_changed)

    # 3. æäº¤ï¼ˆå¯èƒ½ä¿®æ”¹ä½œè€…åä¸º "User (aider)"ï¼‰
    git.commit(
        message=commit_msg,
        author="Your Name (aider)" if aider_edits else "Your Name"
    )
```

**å…³é”®é…ç½®**ï¼š
- `--attribute-author`: æ˜¯å¦æ ‡è®° AI ç¼–è¾‘
- `--attribute-co-authored-by`: æ·»åŠ  co-author ä¿¡æ¯

### 4. ä¸Šä¸‹æ–‡çª—å£ç®¡ç†

**é—®é¢˜**ï¼šLLM æœ‰ token é™åˆ¶ï¼ˆæ¯”å¦‚ 128k tokensï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. **Repo Map** - åªå‘é€ç›¸å…³ä»£ç å®šä¹‰
2. **èŠå¤©å†å²æ€»ç»“** - æ—§å¯¹è¯è‡ªåŠ¨æ€»ç»“
3. **åªè¯»æ–‡ä»¶** - ä¸ä¼šç¼–è¾‘çš„æ–‡ä»¶ç”¨è¾ƒå°‘ token

```python
# ä¼ªä»£ç 
def prepare_context(coder):
    tokens_used = 0
    max_tokens = 128000

    # ç³»ç»Ÿæç¤ºè¯
    context = system_prompt
    tokens_used += count_tokens(system_prompt)

    # æ–‡ä»¶å†…å®¹
    for file in coder.files:
        tokens_used += count_tokens(read_file(file))

    # Repo Mapï¼ˆåŠ¨æ€è°ƒæ•´å¤§å°ï¼‰
    remaining = max_tokens - tokens_used - 4000  # ç•™ç»™å“åº”
    repo_map = generate_repo_map(max_tokens=remaining)

    return context
```

---

## å¦‚ä½•é˜…è¯»ä»£ç 

### æ¨èé˜…è¯»é¡ºåº

#### ç¬¬ä¸€é˜¶æ®µï¼šç†è§£ä¸»æµç¨‹ï¼ˆ1-2å¤©ï¼‰

1. **`main.py:main()`** (1273è¡Œ)
   - ä»è¿™é‡Œå¼€å§‹ï¼
   - çœ‹æ‡‚ç¨‹åºå¯åŠ¨æµç¨‹
   - ç†è§£å‚æ•°è§£æ

2. **`io.py:InputOutput`** (å…¨æ–‡)
   - ç†è§£å¦‚ä½•è¯»å–ç”¨æˆ·è¾“å…¥
   - å¦‚ä½•ç¾åŒ–è¾“å‡º

3. **`commands.py:Commands`** (éƒ¨åˆ†)
   - é˜…è¯»ç®€å•å‘½ä»¤ï¼š`cmd_clear()`, `cmd_tokens()`
   - ç†è§£å‘½ä»¤æ¨¡å¼

#### ç¬¬äºŒé˜¶æ®µï¼šæ·±å…¥æ ¸å¿ƒï¼ˆ3-5å¤©ï¼‰

4. **`coders/base_coder.py:Coder.run()`**
   - æ ¸å¿ƒè¿è¡Œå¾ªç¯
   - LLM äº¤äº’æµç¨‹

5. **`repo.py:GitRepo.commit()`**
   - Git æäº¤é€»è¾‘
   - ç†è§£ attribution æœºåˆ¶

6. **`models.py:Model`**
   - LLM API è°ƒç”¨
   - é”™è¯¯å¤„ç†å’Œé‡è¯•

#### ç¬¬ä¸‰é˜¶æ®µï¼šé«˜çº§ç‰¹æ€§ï¼ˆ1å‘¨+ï¼‰

7. **`repomap.py:RepoMap`**
   - ä»£ç è§£æ
   - ç›¸å…³æ€§æ’åºç®—æ³•

8. **`coders/editblock_coder.py`**
   - ç¼–è¾‘æ ¼å¼è§£æ
   - åº”ç”¨ä¿®æ”¹é€»è¾‘

### é˜…è¯»æŠ€å·§

#### 1. ä½¿ç”¨è°ƒè¯•å™¨

```python
# åœ¨ main.py ä¸­è®¾ç½®æ–­ç‚¹
def main(argv=None, input=None, output=None):
    import pdb; pdb.set_trace()  # æ·»åŠ è¿™è¡Œ

    # ç„¶åè¿è¡Œ
    # python -m aider.main --help
```

#### 2. æ·»åŠ æ‰“å°è¯­å¥

```python
# åœ¨å…³é”®ä½ç½®æ·»åŠ 
def prepare_context(self):
    print(f"ğŸ“ å‡†å¤‡ä¸Šä¸‹æ–‡ï¼Œæ–‡ä»¶æ•°ï¼š{len(self.abs_fnames)}")
    print(f"ğŸ“ Token é¢„ç®—ï¼š{self.max_tokens}")
    # ... åŸä»£ç 
```

#### 3. è¿è¡Œæµ‹è¯•ç†è§£åŠŸèƒ½

```bash
# è¿è¡Œå•ä¸ªæµ‹è¯•ï¼ŒæŸ¥çœ‹å®ƒåœ¨æµ‹è¯•ä»€ä¹ˆ
pytest tests/basic/test_commands.py::TestCommands::test_cmd_add -v -s

# -v: è¯¦ç»†è¾“å‡º
# -s: æ˜¾ç¤º print è¯­å¥
```

#### 4. ä½¿ç”¨ Aider è‡ªå·±ï¼

```bash
# ç”¨ Aider æ¥å­¦ä¹  Aider
aider --read-only aider/main.py

# ç„¶åé—®é—®é¢˜ï¼š
# "è§£é‡Šä¸€ä¸‹ main() å‡½æ•°çš„æµç¨‹"
# "setup_git() å‡½æ•°åšäº†ä»€ä¹ˆï¼Ÿ"
```

---

## å¦‚ä½•å‚ä¸è´¡çŒ®

### è´¡çŒ®ç±»å‹ï¼ˆä»æ˜“åˆ°éš¾ï¼‰

#### ğŸŸ¢ Level 1: æ–‡æ¡£å’Œæµ‹è¯•ï¼ˆé€‚åˆæ–°æ‰‹ï¼‰

**è´¡çŒ®æ–¹å¼**ï¼š
- æ”¹è¿›æ–‡æ¡£çš„é”™åˆ«å­—
- æ·»åŠ ä¸­æ–‡æ–‡æ¡£
- ä¸ºç°æœ‰åŠŸèƒ½æ·»åŠ æµ‹è¯•
- æ”¹è¿›ä»£ç æ³¨é‡Š

**ç¤ºä¾‹ PR**ï¼š
```bash
# 1. æ‰¾åˆ°æ–‡æ¡£é”™è¯¯
# 2. Fork ä»“åº“
# 3. ä¿®æ”¹
git checkout -b fix-typo-in-readme
# ç¼–è¾‘ README.md
git add README.md
git commit -m "docs: fix typo in installation section"
git push origin fix-typo-in-readme
# 4. æäº¤ PR
```

#### ğŸŸ¡ Level 2: Bug ä¿®å¤

**å¦‚ä½•å¼€å§‹**ï¼š
1. æµè§ˆ [GitHub Issues](https://github.com/Aider-AI/aider/issues)
2. æ‰¾æ ‡ç­¾ä¸º `good first issue` çš„é—®é¢˜
3. å¤ç° bug
4. ä¿®å¤å¹¶æäº¤ PR

**ç¤ºä¾‹æµç¨‹**ï¼š
```bash
# 1. åˆ›å»ºåˆ†æ”¯
git checkout -b fix-issue-1234

# 2. å†™æµ‹è¯•ï¼ˆå…ˆå†™æµ‹è¯•ï¼ï¼‰
# åœ¨ tests/basic/test_xxx.py ä¸­æ·»åŠ 
def test_bug_1234():
    # å¤ç° bug çš„æµ‹è¯•
    assert False  # æš‚æ—¶å¤±è´¥

# 3. è¿è¡Œæµ‹è¯•ï¼ˆç¡®è®¤å¤±è´¥ï¼‰
pytest tests/basic/test_xxx.py::test_bug_1234 -v

# 4. ä¿®å¤ bug
# ä¿®æ”¹ aider/xxx.py

# 5. è¿è¡Œæµ‹è¯•ï¼ˆç¡®è®¤é€šè¿‡ï¼‰
pytest tests/basic/test_xxx.py::test_bug_1234 -v

# 6. æäº¤
git add .
git commit -m "fix: resolve issue #1234 - brief description"
git push origin fix-issue-1234
```

#### ğŸ”´ Level 3: æ–°åŠŸèƒ½

**å»ºè®®**ï¼š
- å…ˆåœ¨ Issue ä¸­è®¨è®º
- ä»å°åŠŸèƒ½å¼€å§‹
- å‚è€ƒç°æœ‰ä»£ç é£æ ¼

**æ–°æ‰‹å‹å¥½çš„åŠŸèƒ½åŒºåŸŸ**ï¼š
- æ·»åŠ æ–°çš„ `/` å‘½ä»¤ï¼ˆå‚è€ƒ `commands.py`ï¼‰
- æ”¯æŒæ–°çš„é…ç½®é€‰é¡¹ï¼ˆå‚è€ƒ `args.py`ï¼‰
- æ”¹è¿›ç»ˆç«¯è¾“å‡ºæ ¼å¼ï¼ˆå‚è€ƒ `io.py`ï¼‰

### ä»£ç è§„èŒƒ

#### å¿…é¡»éµå®ˆ

```python
# âœ… å¥½çš„
def calculate_tokens(text):
    """è®¡ç®—æ–‡æœ¬çš„ token æ•°é‡"""
    if not text:
        return 0
    return len(text) // 4  # ç®€åŒ–è®¡ç®—


# âŒ ä¸å¥½çš„ï¼ˆä¸è¦ç”¨ç±»å‹æ³¨è§£ï¼‰
def calculate_tokens(text: str) -> int:
    """è®¡ç®—æ–‡æœ¬çš„ token æ•°é‡"""
    if not text:
        return 0
    return len(text) // 4
```

#### æäº¤å‰æ£€æŸ¥

```bash
# 1. è¿è¡Œä»£ç æ ¼å¼åŒ–
black aider/
isort aider/

# 2. è¿è¡Œ linter
flake8 aider/

# 3. è¿è¡Œç›¸å…³æµ‹è¯•
pytest tests/basic/test_your_changes.py -v

# 4. æäº¤
git add .
git commit -m "feat: add new feature"
```

### æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/)ï¼š

```
feat: æ–°åŠŸèƒ½
fix: Bug ä¿®å¤
docs: æ–‡æ¡£æ›´æ–°
test: æ·»åŠ æµ‹è¯•
refactor: é‡æ„
chore: æ‚é¡¹ï¼ˆä¾èµ–æ›´æ–°ç­‰ï¼‰

ç¤ºä¾‹ï¼š
feat: add /export command to save chat history
fix: resolve unicode error in git commit messages
docs: improve installation guide for Windows
test: add test cases for repo map generation
```

---

## å­¦ä¹ è·¯å¾„å»ºè®®

### ç¬¬ä¸€å‘¨ï¼šç¯å¢ƒå’ŒåŸºç¡€

**ç›®æ ‡**ï¼šèƒ½å¤Ÿè¿è¡Œæµ‹è¯•ï¼Œç†è§£åŸºæœ¬æµç¨‹

- [ ] æ­å»ºå¼€å‘ç¯å¢ƒ
- [ ] è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆ`pytest`ï¼‰
- [ ] é˜…è¯» `main.py` ç†è§£å¯åŠ¨æµç¨‹
- [ ] é˜…è¯» `io.py` ç†è§£è¾“å…¥è¾“å‡º
- [ ] å°è¯•ç”¨ Aider æœ¬èº«åšä¸€ä¸ªå°ä¿®æ”¹

**ç»ƒä¹ é¡¹ç›®**ï¼š
```python
# åœ¨ aider/io.py ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„é¢œè‰²ä¸»é¢˜
# 1. æ‰¾åˆ°é¢œè‰²å®šä¹‰çš„ä»£ç 
# 2. æ·»åŠ ä¸€ä¸ª --my-theme é€‰é¡¹
# 3. è¿è¡Œæµ‹è¯•ç¡®ä¿æ²¡ç ´åç°æœ‰åŠŸèƒ½
```

### ç¬¬äºŒå‘¨ï¼šæ·±å…¥æ ¸å¿ƒ

**ç›®æ ‡**ï¼šç†è§£ Coder çš„å·¥ä½œåŸç†

- [ ] é˜…è¯» `coders/base_coder.py:run()` æ–¹æ³•
- [ ] ç†è§£ LLM è°ƒç”¨æµç¨‹ï¼ˆ`models.py`ï¼‰
- [ ] ç†è§£ç¼–è¾‘åº”ç”¨é€»è¾‘
- [ ] è¿è¡Œ `test_coder.py` ä¸­çš„æµ‹è¯•

**ç»ƒä¹ é¡¹ç›®**ï¼š
```python
# æ·»åŠ ä¸€ä¸ªç®€å•çš„ /stats å‘½ä»¤
# æ˜¾ç¤ºå½“å‰ä¼šè¯çš„ç»Ÿè®¡ä¿¡æ¯ï¼š
# - å‘é€çš„æ¶ˆæ¯æ•°
# - ç¼–è¾‘çš„æ–‡ä»¶æ•°
# - æ¶ˆè€—çš„ tokens æ•°
```

### ç¬¬ä¸‰å‘¨ï¼šGit å’Œé«˜çº§ç‰¹æ€§

**ç›®æ ‡**ï¼šç†è§£ Git é›†æˆå’Œ Repo Map

- [ ] é˜…è¯» `repo.py` Git æ“ä½œé€»è¾‘
- [ ] ç†è§£ commit attribution
- [ ] é˜…è¯» `repomap.py` å‰åŠéƒ¨åˆ†
- [ ] ç†è§£ tree-sitter çš„ä½œç”¨

**ç»ƒä¹ é¡¹ç›®**ï¼š
```python
# æ”¹è¿›æäº¤æ¶ˆæ¯ç”Ÿæˆ
# 1. åœ¨ repo.py çš„ get_commit_message() ä¸­
# 2. æ·»åŠ å¯¹ emoji æäº¤çš„æ”¯æŒ
# 3. ä¾‹å¦‚: "âœ¨ Add new feature" è€Œä¸æ˜¯ "Add new feature"
```

### ç¬¬å››å‘¨ï¼šå®æˆ˜è´¡çŒ®

**ç›®æ ‡**ï¼šæäº¤ä½ çš„ç¬¬ä¸€ä¸ª PR

- [ ] æµè§ˆ GitHub Issues
- [ ] æ‰¾ä¸€ä¸ª `good first issue`
- [ ] å¤ç°é—®é¢˜
- [ ] ä¿®å¤å¹¶æµ‹è¯•
- [ ] æäº¤ PR

**å»ºè®®çš„ç¬¬ä¸€ä¸ª PR ç±»å‹**ï¼š
- æ–‡æ¡£æ”¹è¿›
- æ·»åŠ æµ‹è¯•è¦†ç›–
- ä¿®å¤å° bug
- æ·»åŠ æ–°çš„é…ç½®é€‰é¡¹

---

## å¸¸è§é—®é¢˜

### Q1: æˆ‘ Python åŸºç¡€ä¸å¥½ï¼Œèƒ½å­¦ä¼šå—ï¼Ÿ

**A**: å¯ä»¥ï¼ä½†å»ºè®®å…ˆè¡¥å……è¿™äº›åŸºç¡€ï¼š

**å¿…å¤‡çŸ¥è¯†**ï¼š
- Python åŸºç¡€è¯­æ³•ï¼ˆå˜é‡ã€å‡½æ•°ã€ç±»ï¼‰
- æ–‡ä»¶è¯»å†™
- å¼‚å¸¸å¤„ç†ï¼ˆtry/exceptï¼‰
- åŸºæœ¬çš„é¢å‘å¯¹è±¡ï¼ˆç±»ã€ç»§æ‰¿ï¼‰

**æ¨èèµ„æº**ï¼š
- [Pythonå®˜æ–¹æ•™ç¨‹](https://docs.python.org/3/tutorial/)
- [Real Python](https://realpython.com/)

**å­¦ä¹ ç­–ç•¥**ï¼š
1. ä¸æ‡‚çš„å°±æŸ¥æ–‡æ¡£
2. ç”¨ Aider é—® Aiderï¼ˆçœŸçš„æœ‰ç”¨ï¼ï¼‰
3. ä»ç®€å•çš„ `io.py` å¼€å§‹ï¼Œä¸è¦ä¸€ä¸Šæ¥å°±çœ‹å¤æ‚çš„

### Q2: ä¸ºä»€ä¹ˆæ²¡æœ‰ç±»å‹æ³¨è§£ï¼Ÿ

**A**: è¿™æ˜¯é¡¹ç›®çš„çº¦å®šï¼ŒåŸå› ï¼š
- å†å²åŸå› ï¼ˆé¡¹ç›®å¼€å§‹äº 2023å¹´åˆï¼‰
- å¿«é€Ÿè¿­ä»£ä¼˜å…ˆ
- AI ç”Ÿæˆçš„ä»£ç é€šå¸¸ä¸å¸¦ç±»å‹
- ä¿æŒé£æ ¼ä¸€è‡´

**ä½ å¯ä»¥**ï¼š
- åœ¨è‡ªå·±çš„ç»ƒä¹ ä¸­ä½¿ç”¨ç±»å‹æ³¨è§£
- ä½†æäº¤ PR æ—¶è¦ç§»é™¤

### Q3: æµ‹è¯•æ€ä¹ˆå†™ï¼Ÿ

**A**: å‚è€ƒç°æœ‰æµ‹è¯•ï¼š

```python
# tests/basic/test_my_feature.py
from aider.io import InputOutput

def test_my_new_feature():
    """æµ‹è¯•æˆ‘çš„æ–°åŠŸèƒ½"""
    # 1. å‡†å¤‡
    io = InputOutput(pretty=False, yes=True)

    # 2. æ‰§è¡Œ
    result = io.my_new_method()

    # 3. æ–­è¨€
    assert result == expected_value
```

**è¿è¡Œæµ‹è¯•**ï¼š
```bash
# è¿è¡Œå•ä¸ªæµ‹è¯•
pytest tests/basic/test_my_feature.py::test_my_new_feature -v

# è¿è¡Œæ•´ä¸ªæ–‡ä»¶
pytest tests/basic/test_my_feature.py -v

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest
```

### Q4: æˆ‘åº”è¯¥ä»å“ªé‡Œå¼€å§‹è´¡çŒ®ï¼Ÿ

**A**: æ¨èé¡ºåºï¼š

1. **æ–‡æ¡£** - æœ€ç®€å•
   - ä¿®æ­£é”™åˆ«å­—
   - æ”¹è¿›è¯´æ˜
   - æ·»åŠ ç¤ºä¾‹

2. **æµ‹è¯•** - ç†Ÿæ‚‰ä»£ç 
   - ä¸ºç°æœ‰åŠŸèƒ½æ·»åŠ æµ‹è¯•
   - æé«˜æµ‹è¯•è¦†ç›–ç‡

3. **Bug ä¿®å¤** - æœ‰æ„ä¹‰
   - æ‰¾ `good first issue`
   - ä¿®å¤å° bug

4. **æ–°åŠŸèƒ½** - æœ€æœ‰æŒ‘æˆ˜
   - å…ˆè®¨è®ºå†åŠ¨æ‰‹
   - ä»å°åŠŸèƒ½å¼€å§‹

### Q5: pre-commit é’©å­å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A**: è‡ªåŠ¨ä¿®å¤ï¼š

```bash
# pre-commit ä¼šè‡ªåŠ¨è¿è¡Œ black å’Œ isort
# å¦‚æœå¤±è´¥ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
# ä½ åªéœ€è¦é‡æ–° add å’Œ commitï¼š

git add .
git commit -m "your message"
# å¦‚æœå¤±è´¥ï¼š
git add .  # å†æ¬¡æ·»åŠ è‡ªåŠ¨ä¿®å¤çš„æ–‡ä»¶
git commit -m "your message"
```

### Q6: å¦‚ä½•è°ƒè¯• Aiderï¼Ÿ

**A**: å¤šç§æ–¹å¼ï¼š

```bash
# æ–¹å¼1ï¼šè¿è¡Œæ—¶åŠ  --verbose
aider --verbose

# æ–¹å¼2ï¼šPython è°ƒè¯•å™¨
python -m pdb -m aider.main

# æ–¹å¼3ï¼šåœ¨ä»£ç ä¸­åŠ æ–­ç‚¹
import pdb; pdb.set_trace()

# æ–¹å¼4ï¼šæ‰“å°è°ƒè¯•
print(f"ğŸ› DEBUG: {variable}")
```

### Q7: æˆ‘æ”¹äº†ä»£ç ï¼Œå¦‚ä½•æµ‹è¯•ï¼Ÿ

**A**: å®Œæ•´æµ‹è¯•æµç¨‹ï¼š

```bash
# 1. å®‰è£…ä¸ºå¯ç¼–è¾‘æ¨¡å¼ï¼ˆåªéœ€ä¸€æ¬¡ï¼‰
pip install -e .

# 2. ä¿®æ”¹ä»£ç 
# ç¼–è¾‘ aider/xxx.py

# 3. è¿è¡Œç›¸å…³æµ‹è¯•
pytest tests/basic/test_xxx.py -v

# 4. æ‰‹åŠ¨æµ‹è¯•
aider --help

# 5. è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆæäº¤ PR å‰ï¼‰
pytest
```

---

## é¢å¤–èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Aider å®˜ç½‘](https://aider.chat/)
- [å®‰è£…æŒ‡å—](https://aider.chat/docs/install.html)
- [ä½¿ç”¨æ–‡æ¡£](https://aider.chat/docs/usage.html)
- [è´¡çŒ®æŒ‡å—](https://github.com/Aider-AI/aider/blob/main/CONTRIBUTING.md)

### ç¤¾åŒº
- [GitHub Issues](https://github.com/Aider-AI/aider/issues)
- [Discord ç¤¾åŒº](https://discord.gg/Y7X7bhMQFV)

### ç›¸å…³æŠ€æœ¯
- [LiteLLM æ–‡æ¡£](https://docs.litellm.ai/)
- [Tree-sitter æ–‡æ¡£](https://tree-sitter.github.io/tree-sitter/)
- [GitPython æ–‡æ¡£](https://gitpython.readthedocs.io/)
- [Prompt Toolkit æ–‡æ¡£](https://python-prompt-toolkit.readthedocs.io/)

---

## æœ€åçš„å»ºè®®

### âœ… Doï¼ˆæ¨èåšï¼‰

- **ä»å°å¤„å¼€å§‹** - ä¸è¦è¯•å›¾ä¸€æ¬¡ç†è§£æ‰€æœ‰ä»£ç 
- **å¤šé—®é—®é¢˜** - Discord ç¤¾åŒºå¾ˆå‹å¥½
- **å¤šå†™æµ‹è¯•** - è¿™æ˜¯å­¦ä¹ ä»£ç çš„æœ€å¥½æ–¹å¼
- **ç”¨ Aider å­¦ Aider** - çœŸçš„æœ‰ç”¨ï¼
- **è®°å½•ä½ çš„å­¦ä¹ ** - å†™åšå®¢ã€åšç¬”è®°

### âŒ Don'tï¼ˆä¸æ¨èï¼‰

- **ä¸è¦è·³è¿‡æµ‹è¯•** - æ²¡æµ‹è¯•çš„ä»£ç ä¸è¦æäº¤
- **ä¸è¦ç›´æ¥æ”¹å¤æ‚åŠŸèƒ½** - å…ˆä»ç®€å•çš„å¼€å§‹
- **ä¸è¦å®³æ€•çŠ¯é”™** - PR å¯ä»¥ä¿®æ”¹ï¼Œä»£ç å¯ä»¥é‡å†™
- **ä¸è¦æ€¥äºæ±‚æˆ** - æ…¢æ…¢æ¥æ¯”è¾ƒå¿«

---

## ä½ çš„å­¦ä¹ è®¡åˆ’

å»ºè®®ä½ åœ¨è¿™é‡Œå†™ä¸‹è‡ªå·±çš„è®¡åˆ’ï¼š

```
Week 1 ç›®æ ‡ï¼š
- [ ] æ­å»ºç¯å¢ƒ
- [ ] è¿è¡Œæµ‹è¯•
- [ ] é˜…è¯» main.py

Week 2 ç›®æ ‡ï¼š
- [ ] ç†è§£ Coder æµç¨‹
- [ ] å®Œæˆä¸€ä¸ªç»ƒä¹ é¡¹ç›®

Week 3 ç›®æ ‡ï¼š
- [ ] ç†è§£ Git é›†æˆ
- [ ] é˜…è¯» repomap.py

Week 4 ç›®æ ‡ï¼š
- [ ] æäº¤ç¬¬ä¸€ä¸ª PR
```

---

## ç»“è¯­

æ¬¢è¿æ¥åˆ° Aider ç¤¾åŒºï¼è¿™æ˜¯ä¸€ä¸ªå¹´è½»ã€æ´»è·ƒã€å……æ»¡åˆ›æ–°çš„é¡¹ç›®ã€‚ä½œä¸ºåˆçº§ç¨‹åºå‘˜ï¼Œè¿™é‡Œæœ‰å¾ˆå¤šå­¦ä¹ å’Œæˆé•¿çš„æœºä¼šã€‚

**è®°ä½**ï¼š
- æ¯ä¸ªä¸“å®¶éƒ½æ›¾æ˜¯åˆå­¦è€…
- ä»£ç æ˜¯å†™å‡ºæ¥çš„ï¼Œä¸æ˜¯æƒ³å‡ºæ¥çš„
- ç¤¾åŒºåœ¨è¿™é‡Œå¸®åŠ©ä½ 

ç¥ä½ å­¦ä¹ æ„‰å¿«ï¼ğŸš€

---

*æœ€åæ›´æ–°ï¼š2025å¹´10æœˆ*
*ç»´æŠ¤è€…ï¼šç¤¾åŒºè´¡çŒ®*
*æ¬¢è¿æ”¹è¿›è¿™ä»½æ–‡æ¡£ï¼*
